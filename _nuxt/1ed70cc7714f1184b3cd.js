(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{248:function(e,t,n){var content=n(294);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(36).default)("3256ca27",content,!0,{sourceMap:!1})},249:function(e,t,n){"use strict";e.exports=function(e,t){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)||t?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},278:function(e,t,n){"use strict";n.r(t);n(50),n(76),n(77),n(37);var map,o=n(14),r=[],c=0,l={head:function(){return{link:[{rel:"stylesheet",href:"https://api.mapbox.com/mapbox.js/v3.1.1/mapbox.css"}],script:[{src:"https://api.mapbox.com/mapbox.js/v3.1.1/mapbox.js"}]}},props:{events:{type:Array,required:!0,default:null}},data:function(){return{mapCreated:!1}},computed:{zoomLevel:{get:function(){return this.$store.state.map.zoom},set:function(e){this.$store.commit("setMapZoom",e)}},currentPin:{get:function(){return this.$store.state.map.currentPin},set:function(e){this.$store.commit("setMapCurrentPin",e)}}},watch:{events:function(e){e.length&&(this.mapCreated||this.createMap(),this.addEventsToMap())},currentPin:function(e,t){t&&(null!==this.currentPin&&this.currentPin.id===t.id||this.closePopup(t)),e&&this.openPopup(e)},zoomLevel:function(e){e&&this.zoomMap(e)}},mounted:function(){!this.mapCreated&&this.events.length&&(this.createMap(),this.addEventsToMap())},methods:{createMap:function(){o.mapboxToken||console.error("Please add a mapboxToken in config.json"),L.mapbox.accessToken=o.mapboxToken;var e=L.tileLayer("https://api.mapbox.com/v4/".concat("mapbox.light","/{z}/{x}/{y}.png?access_token=").concat(L.mapbox.accessToken),{attribution:'© <a href="https://www.mapbox.com/feedback/">Mapbox</a> © <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'});(map=L.map("js-event-map",{scrollWheelZoom:!1}).addLayer(e)).on("zoomend",function(e){return c++}),map.on("zoom",this.updateZoomLevel),map.on("popupclose",this.handlePopupClose),r=[],this.mapCreated=!0},addEventsToMap:function(){if(0!==this.events.length){this.bounds=L.latLngBounds();var e=!0,t=!1,n=void 0;try{for(var o,r=this.events[Symbol.iterator]();!(e=(o=r.next()).done);e=!0){var c=o.value;this.addMarker(c)}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}map.fitBounds(this.bounds)}else map.setView([42.35,-71.08],13)},addMarker:function(e){var t=[e.latitude,e.longitude],html="<h5>".concat(e.title,"</h5>");"event"===e.category&&(html+='<div class="date">'.concat(e.formatted_start_date,"</div>")),html+='<div class="address"><address>'.concat(e.address,'</address></div><a class="btn btn-sml btn-block" href="').concat(e.url,'" target="_blank">').concat("facebook_group"===e.category?"Join Facebook Group":"Info & RSVP","</a>");var marker=L.marker(t).addTo(map).bindPopup(html);marker.eventId=e.id,marker.on("click",this.clickMarker),r.push(marker),this.bounds.extend(t)},clickMarker:function(e){this.$store.commit("setMapCurrentPin",{id:e.target.eventId,latitude:e.latlng.lat,longitude:e.latlng.lng,type:"map-marker"})},openPopup:function(e){var t=e.id,marker=r.find(function(e){return e.eventId===t});marker&&marker.openPopup()},closePopup:function(e){var t=e.id,marker=r.find(function(e){return e.eventId===t});marker&&marker.closePopup()},handlePopupClose:function(e){this.currentPin&&e.popup._source.eventId===this.currentPin.id&&this.$store.commit("setMapCurrentPin",null)},updateZoomLevel:function(){this.$store.commit("setMapZoom",map.getZoom())},zoomMap:function(e){var t=this.currentPin?[this.currentPin.latitude,this.currentPin.longitude]:map.getCenter(),n=e;map.setView(t,n)}}},d=(n(293),n(3)),component=Object(d.a)(l,function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"map-wrapper"},[t("div",{staticClass:"event-map is-rounded",attrs:{id:"js-event-map"}})])}],!1,null,null,null);t.default=component.exports},293:function(e,t,n){"use strict";var o=n(248);n.n(o).a},294:function(e,t,n){t=e.exports=n(35)(!1);var o=n(249),r=o(n(295)),c=o(n(296));t.push([e.i,'.map-wrapper{position:relative;min-height:300px}@media only screen and (min-width:500px){.map-wrapper{min-height:400px}}.leaflet-container,.leaflet-container.dark{font-family:IBM Plex Sans,Helvetica Neue,Helvetica,Arial,sans-serif;color:#fff}.leaflet-container.dark a,.leaflet-container a{color:#fff;text-decoration:underline}.leaflet-container.dark a:focus,.leaflet-container.dark a:hover,.leaflet-container a:focus,.leaflet-container a:hover{color:#fff}.event-map{position:absolute;top:0;left:0;bottom:0;right:0;width:100%;height:100%}.event-map .btn{font-weight:700;text-decoration:none}.event-map address{font-style:normal;white-space:pre-line}.event-map .address,.event-map .date{display:flex;align-items:center;justify-content:left;margin-bottom:15px;line-height:1.1;font-size:18px;color:#f2f2f2}.event-map .address img,.event-map .date img{height:15px;margin-right:5px}.event-map .address:before,.event-map .date:before{content:"";background-image:url('+r+");background-size:100%;background-repeat:no-repeat;background-position:50%;width:15px;height:15px;margin-right:5px;padding:7.5px}.event-map .date:before{background-image:url("+c+")}.event-map .leaflet-popup-close-button{color:#fff;text-decoration:none;text-indent:0}.event-map .leaflet-popup-close-button:hover{background-color:transparent}.event-map .leaflet-popup-content-wrapper{background-color:rgba(0,0,0,.9)}.event-map .leaflet-popup-tip{border-top:10px solid rgba(0,0,0,.9)}.event-map .leaflet-popup-content{line-height:1.6;font-family:IBM Plex Sans,Helvetica Neue,Helvetica,Arial,sans-serif;color:#000}.event-map .leaflet-popup-content h5{margin-bottom:5px;color:#fff;font-size:18px}",""])},295:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiNjYmNiY2IiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBjbGFzcz0iZmVhdGhlciBmZWF0aGVyLW1hcC1waW4iPjxwYXRoIGQ9Ik0yMSAxMGMwIDctOSAxMy05IDEzcy05LTYtOS0xM2E5IDkgMCAwIDEgMTggMHoiPjwvcGF0aD48Y2lyY2xlIGN4PSIxMiIgY3k9IjEwIiByPSIzIj48L2NpcmNsZT48L3N2Zz4K"},296:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiNjYmNiY2IiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBjbGFzcz0iZmVhdGhlciBmZWF0aGVyLWNhbGVuZGFyIj48cmVjdCB4PSIzIiB5PSI0IiB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHJ4PSIyIiByeT0iMiI+PC9yZWN0PjxsaW5lIHgxPSIxNiIgeTE9IjIiIHgyPSIxNiIgeTI9IjYiPjwvbGluZT48bGluZSB4MT0iOCIgeTE9IjIiIHgyPSI4IiB5Mj0iNiI+PC9saW5lPjxsaW5lIHgxPSIzIiB5MT0iMTAiIHgyPSIyMSIgeTI9IjEwIj48L2xpbmU+PC9zdmc+Cg=="}}]);